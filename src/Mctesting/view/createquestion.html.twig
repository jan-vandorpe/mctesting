{% extends "template/layout.html.twig" %}

{% block scripts %}
    {{ parent() }}
    <script src="{{ app.root }}/public/js/lib/tinymce/tinymce.min.js"></script>
    <script src="{{ app.root }}/public/js/addanswers.js"></script>
{% endblock scripts %}

{% block title %}
    {{ parent() }}Nieuwe vraag
{% endblock title %}

{% block contentHeader %}
    <div class="panel-heading">
        <h1>
            Vraag Toevoegen
            <br>
        </h1>
    </div>
{% endblock %}

{% block content %}
    <div class="container-fluid">
        {% if msg is not null %}
            <div class="alert alert-warning alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                {{msg}}
            {% endif %}
        </div>
        <form name="toevoegenvraag" id="toevoegenvraag" method="post" action="{{ app.root }}/question/add" enctype="multipart/form-data" class="form-horizontal">
            {#   Subcategory   #}
            <div class="panel panel-default">
                <div class="panel-heading">
                    Vraag
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <label for="subcat" class="col-md-3 control-label">Subcategorie:</label>   
                        <div class="col-md-9">
                            <select class="form-control catbijvraag " name="subcat">
                                {% for category in categories %}
                                    <optgroup label="{{category.catname|capitalize}}">
                                        {% for subcategory in category.subcategories %}
                                            <option value="{{ subcategory.id }}">{{ subcategory.subcatname|lower }}</option>
                                        {% endfor %}
                                    </optgroup>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    {#   Weight     #}
                    <div class="form-group">
                        <label for="gewicht" class="col-md-3 control-label">Moeilijkheidsgraad:</label>   
                        <div class="col-md-9">
                            <select class="form-control catbijvraag" name="gewicht">
                                {% for difficulty in 1..3 %}
                                    <option value="{{ difficulty }}">{{ difficulty }}</option>
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                    {#    Question    #}
                    <div class="form-group">
                        <label for="vraag" class="col-md-3 control-label">Vraag:</label>   
                        <div class="col-md-9">
                            <textarea name="vraag" class="form-control allowcode vraaginput" placeholder="Vul hier uw vraag in." required></textarea>
                        </div>
                    </div>
                    {#  Question Images    #}
                    <div class="form-group">
                        <label class="col-md-3 control-label">Afbeeldingen:</label>
                        <div class="col-md-6">
                            <div class="input-group">
                                <span class="input-group-btn">
                                    <span class="btn btn-default btn-file">
                                        Bladeren... 
                                        <input type="file" name="media[]" class="form-control" multiple="true" />
                                    </span>
                                </span>
                                <input type="text" class="form-control" readonly>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {# Answers #}
            <div class="panel panel-default">
                <div class="panel-heading">
                    Antwoorden
                </div>
                <div class="panel-body">
                    <div class="answers">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <div class="form-group">
                                    <label for="antwoord[]" class="col-md-3 control-label">Antwoord 1:</label>   
                                    <div class="col-md-9">
                                        <textarea name="antwoord[]" id="antwoord1" class="form-control allowcode" placeholder="vul hier een antwoord in."></textarea> 
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 control-label">Afbeelding antwoord 1:</label>
                                    <div class="col-md-6">
                                        <div class="input-group">
                                            <span class="input-group-btn">
                                                <span class="btn btn-default btn-file">
                                                    Bladeren... 
                                                    <input type="file" name="answerMedia[]" class="form-control" />
                                                </span>
                                            </span>
                                            <input type="text" class="form-control" readonly>
                                        </div>
                                    </div>
                                </div>
                            </div></div>
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <div class="form-group">
                                    <label for="antwoord[]" class="col-md-3 control-label">Antwoord 2:</label>   
                                    <div class="col-md-9">
                                        <textarea name="antwoord[]" id="antwoord2" class="form-control allowcode" placeholder="vul hier een antwoord in."></textarea> 
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 control-label">Afbeelding antwoord 2:</label>
                                    <div class="col-md-6">
                                        <div class="input-group">
                                            <span class="input-group-btn">
                                                <span class="btn btn-default btn-file">
                                                    Bladeren... 
                                                    <input type="file" name="answerMedia[]" class="form-control" />
                                                </span>
                                            </span>
                                            <input type="text" class="form-control" readonly>
                                        </div>
                                    </div>
                                </div>
                            </div></div>

                    </div>
                    {#   Add extra answer, triggers addanswer.js   #}
                    <div class="form-group"  id="bottom">
                        <label for="AddAnswer" class="col-md-3 control-label">
                            Extra antwoord toevoegen:
                        </label>
                        <div class="col-md-3">
                            <a href="#bottom" id="AddAnswer" class="btn btn-default">Antwoord Toevoegen</a>
                        </div>
                    </div>
                    {# Select correct answer #}
                    <div class="form-group">
                        <label class="col-md-3 control-label" for="correctant">
                            Correct antwoord:
                        </label>
                        <div class="col-md-9">
                            <select class="form-control catbijvraag" id="correctant" name="correctant">
                                <option value="0">Antwoord 1</option>
                                <option value="1">Antwoord 2</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            {#   Submit   #}
            <div class="col-md-3 col-md-offset-5">
                <input type="submit" class="btn btn-success" name="vrtoev" value="Vraag bevestigen" />
            </div>
        </form>
    </div>
{% endblock content %}



